{"ast":null,"code":"import React,{useState,useEffect}from'react';import TripForm from'./components/TripForm';import Itinerary from'./components/Itinerary';import BudgetSummary from'./components/BudgetSummary';import MapView from'./components/MapView';import{fetchGeoData,generateItinerary}from'./utils/api';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[geoData,setGeoData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[itinerary,setItinerary]=useState(null);const[formData,setFormData]=useState(null);useEffect(()=>{loadGeoData();},[]);const loadGeoData=async()=>{try{setLoading(true);const data=await fetchGeoData();setGeoData(data);setError(null);}catch(err){setError('Failed to load data from server. Please try again later.');console.error('Error loading geo data:',err);}finally{setLoading(false);}};const handleGenerateItinerary=formValues=>{if(!geoData)return;setFormData(formValues);const result=generateItinerary(geoData,formValues.startLocation,formValues.budget,formValues.hours,formValues.categories,formValues.vibes,formValues.freeText);setItinerary(result);};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"app-header\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"GeoSpend Kenya\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Itinerary & budget engine \\u2014 Nairobi demo\"})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Trip Inputs\"}),/*#__PURE__*/_jsx(TripForm,{onSubmit:handleGenerateItinerary,disabled:loading||error,neighbourhoods:geoData?Object.keys(geoData.neighbourhoodCenters):[]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"status error\",children:error}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"status\",children:\"Loading places and transport data\\u2026\"}),!loading&&!error&&geoData&&/*#__PURE__*/_jsx(\"div\",{className:\"status\",children:\"Data loaded from server. You can now generate an itinerary.\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"results\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"results-top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Itinerary\"}),/*#__PURE__*/_jsx(Itinerary,{itinerary:itinerary,hasData:!!geoData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel summary-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Budget & time summary\"}),/*#__PURE__*/_jsx(BudgetSummary,{itinerary:itinerary,formData:formData})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"panel map-panel\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Map\"}),/*#__PURE__*/_jsx(MapView,{itinerary:itinerary,startLocation:formData===null||formData===void 0?void 0:formData.startLocation,neighbourhoods:geoData===null||geoData===void 0?void 0:geoData.neighbourhoodCenters})]})]})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"app-footer\",children:/*#__PURE__*/_jsx(\"span\",{children:\"GeoSpend Kenya \\xB7 Nairobi demo \\xB7 Algorithm prototype\"})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","TripForm","Itinerary","BudgetSummary","MapView","fetchGeoData","generateItinerary","jsx","_jsx","jsxs","_jsxs","App","geoData","setGeoData","loading","setLoading","error","setError","itinerary","setItinerary","formData","setFormData","loadGeoData","data","err","console","handleGenerateItinerary","formValues","result","startLocation","budget","hours","categories","vibes","freeText","className","children","onSubmit","disabled","neighbourhoods","Object","keys","neighbourhoodCenters","hasData"],"sources":["C:/Users/user/Documents/2026/timeapp/timeapp/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport TripForm from './components/TripForm';\nimport Itinerary from './components/Itinerary';\nimport BudgetSummary from './components/BudgetSummary';\nimport MapView from './components/MapView';\nimport { fetchGeoData, generateItinerary } from './utils/api';\nimport './App.css';\n\nfunction App() {\n  const [geoData, setGeoData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [itinerary, setItinerary] = useState(null);\n  const [formData, setFormData] = useState(null);\n\n  useEffect(() => {\n    loadGeoData();\n  }, []);\n\n  const loadGeoData = async () => {\n    try {\n      setLoading(true);\n      const data = await fetchGeoData();\n      setGeoData(data);\n      setError(null);\n    } catch (err) {\n      setError('Failed to load data from server. Please try again later.');\n      console.error('Error loading geo data:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGenerateItinerary = (formValues) => {\n    if (!geoData) return;\n    \n    setFormData(formValues);\n    const result = generateItinerary(\n      geoData,\n      formValues.startLocation,\n      formValues.budget,\n      formValues.hours,\n      formValues.categories,\n      formValues.vibes,\n      formValues.freeText\n    );\n    setItinerary(result);\n  };\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <div>\n          <h1>GeoSpend Kenya</h1>\n          <p className=\"subtitle\">Itinerary & budget engine — Nairobi demo</p>\n        </div>\n      </header>\n\n      <main className=\"app-main\">\n        <section className=\"controls\">\n          <h2>Trip Inputs</h2>\n          <TripForm \n            onSubmit={handleGenerateItinerary}\n            disabled={loading || error}\n            neighbourhoods={geoData ? Object.keys(geoData.neighbourhoodCenters) : []}\n          />\n          {error && (\n            <div className=\"status error\">\n              {error}\n            </div>\n          )}\n          {loading && (\n            <div className=\"status\">\n              Loading places and transport data…\n            </div>\n          )}\n          {!loading && !error && geoData && (\n            <div className=\"status\">\n              Data loaded from server. You can now generate an itinerary.\n            </div>\n          )}\n        </section>\n\n        <section className=\"results\">\n          <div className=\"results-top\">\n            <div className=\"panel\">\n              <h2>Itinerary</h2>\n              <Itinerary \n                itinerary={itinerary}\n                hasData={!!geoData}\n              />\n            </div>\n            <div className=\"panel summary-panel\">\n              <h2>Budget & time summary</h2>\n              <BudgetSummary \n                itinerary={itinerary}\n                formData={formData}\n              />\n            </div>\n          </div>\n\n          <div className=\"panel map-panel\">\n            <h2>Map</h2>\n            <MapView \n              itinerary={itinerary}\n              startLocation={formData?.startLocation}\n              neighbourhoods={geoData?.neighbourhoodCenters}\n            />\n          </div>\n        </section>\n      </main>\n\n      <footer className=\"app-footer\">\n        <span>GeoSpend Kenya · Nairobi demo · Algorithm prototype</span>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}